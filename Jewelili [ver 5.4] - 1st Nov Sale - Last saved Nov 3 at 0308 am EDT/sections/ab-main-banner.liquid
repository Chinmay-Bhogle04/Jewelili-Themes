{% if section.settings.enable_section %}
<section>
  <div class="page-width">
    <div class="banner-wrapper">
      <div class="breadcrumb-wrapper small--hide">
        {% include 'breadcrumbs' %}
      </div>
      
      {% assign banner_desk = section.settings.image_desk | img_url: '1x1' | replace: '_1x1.', '_{width}x.' %}
      <div class="image-wrapper absolute-image-wrapper small--hide" style="padding-top:{{ 1 | divided_by: section.settings.image_desk.aspect_ratio | times: 100 }}%;">
        <img class="lazyload" 
             data-src="{{ banner_desk }}"
             data-widths="[180, 360, 375, 414, 540, 800, 1024, 1280, 1340, 1920 ]" 
             data-aspectratio="{{ section.settings.image_desk.aspect_ratio }}" 
             data-sizes="auto"
             alt="" />
      </div>
      
      {% assign banner_mob = section.settings.image_mob | img_url: '1x1' | replace: '_1x1.', '_{width}x.' %}
      <div class="image-wrapper absolute-image-wrapper medium-up--hide" style="padding-top:{{ 1 | divided_by: section.settings.image_mob.aspect_ratio | times: 100 }}%;">
        <img class="lazyload" 
             data-src="{{ banner_mob }}"
             data-widths="[180, 360, 375, 414, 540, 800, 1024, 1280, 1340, 1920 ]" 
             data-aspectratio="{{ section.settings.image_mob.aspect_ratio }}" 
             data-sizes="auto"
             alt="" />
      </div>
      
      <div class="banner-text small--text-center">
        {% if section.settings.title != blank %}
        <h1>{{ section.settings.title }}</h1>
        {% endif %}
        {% if section.settings.text != blank %}
        {{ section.settings.text }}
        {% endif %}
      </div>
    </div>
  </div>
</section>
{% endif %}

{% schema %}
  {
    "name": "Main banner",
	"class": "ab-main-banner",
    "settings": [
      {
        "type": "checkbox",
        "id": "enable_section",
        "label": "Enable section",
        "default": true
      },
	  {
        "type": "image_picker",
        "id": "image_desk",
        "label": "Image (Desktop)",
        "info": "Recommended size: 1280px * 656px"
      },
	  {
        "type": "image_picker",
        "id": "image_mob",
        "label": "Image (Mobile)",
        "info": "Recommended size: 414px * 710px"
      },
      {
        "type": "text",
        "id": "title",
        "label": "Title",
        "default": "Title"
      },
      {
        "type": "richtext",
        "id": "text",
        "label": "Text",
        "default": "<p>Banner text goes here.</p>"
      }
	]
  }
{% endschema %}