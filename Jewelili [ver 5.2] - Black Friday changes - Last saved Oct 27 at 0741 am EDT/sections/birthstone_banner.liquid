<section data-section-id="{{ section.id }}" >
  <div class="birthstone__banner">
    {% unless section.settings.banner_large == nil %}
    {% capture img_id %}BirthBannerColumnImage-{{ section.id }}{% endcapture %}
    {%- assign max_height = 670 -%}
    {% include 'image-style', image: section.settings.banner_large, height: max_height, wrapper_id: wrapper_id, img_id: img_id %}
    {%- assign img_url = section.settings.banner_large | img_url: '1x1' | replace: '_1x1.', '_{width}x.' -%}
    <div class="small--hide" style="padding-top:{{ 1 | divided_by: section.settings.banner_large.aspect_ratio | times: 100}}%;">
      <img id="{{ img_id }}"
      class="custom__image lazyload js image_scale"
      data-src="{{ img_url }}"
      data-widths="[180, 360, 540, 720, 900, 1080, 1296, 1512, 1728, 2048]"
      data-aspectratio="{{ section.settings.banner_large.aspect_ratio }}"
      data-sizes="auto"
      alt="Birthstone Banner">
    </div>
    {% endunless %}
    {% unless section.settings.banner_small == nil %}
    {% capture img_id %}BirthMobileColumnImage-{{ section.id }}{% endcapture %}
    {%- assign max_height = 431 -%}
    {% include 'image-style', image: section.settings.banner_small, height: max_height, wrapper_id: wrapper_id, img_id: img_id %}
    {%- assign img_url = section.settings.banner_small | img_url: '1x1' | replace: '_1x1.', '_{width}x.' -%}
    <div class="medium-up--hide" style="padding-top:{{ 1 | divided_by: section.settings.banner_small.aspect_ratio | times: 100}}%;">
      <img id="{{ img_id }}"
      class="custom__image lazyload js image_scale"
      data-src="{{ img_url }}"
      data-widths="[180, 360, 540, 720, 900, 1080, 1296, 1512, 1728, 2048]"
      data-aspectratio="{{ section.settings.banner_small.aspect_ratio }}"
      data-sizes="auto"
      alt="Birthstone Banner">
    </div>
    {% endunless %}
    
    <div class="banner_content">
      {% unless section.settings.title == blank %}
      <h3 class="top_text">{{ section.settings.title }}</h3>
      {% endunless %}
      {% unless section.settings.banner_logo == blank %}
      <img class="lazyload"
      data-src="{{ section.settings.banner_logo | img_url: 'master' }}"
      data-widths="[180, 360, 540, 720, 900, 1080, 1296, 1512, 1728, 2048]"
      data-aspectratio="{{ section.settings.banner_logo.aspect_ratio }}"
      data-sizes="auto"
      alt="{{ section.settings.banner_small.alt | escape }}">
      {% endunless %}
      {% unless section.settings.subtitle == blank %}
      <h3 class="bottom_text">{{ section.settings.subtitle }}</h3>
      {% endunless %}
    </div>
  </div>
</section>
{% schema %}
{
  "name": "Birthstone banner",
  "class": "banner-section",
  "settings": [
  {
    "type": "image_picker",
    "id": "banner_large",
    "label": "Banner Image (Desktop)",
    "info": "Recommended size 2562x1298 (px)"
  },
  {
    "type": "image_picker",
    "id": "banner_small",
    "label": "Banner Image (Mobile)",
    "info": "Recommended size 800x1470 (px)"
  },
  {
    "type": "text",
    "id": "title",
    "label": "Title",
    "default": "Title"
  },
  {
    "type": "image_picker",
    "id": "banner_logo",
    "label": "Banner inner image"
  },
  {
    "type": "text",
    "id": "subtitle",
    "label": "Subtitle",
    "default": "Subtitle"
  }
  ]
}
{% endschema %}