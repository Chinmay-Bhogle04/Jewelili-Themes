<div class="page-width shop-by-design">  
  {% if section.settings.heading != blank or section.settings.subtitle != blank %}
  <div class="section-header header-title-wrapper">
    {% if section.settings.heading != blank %}
    <h5 class="sub-title header--sub-heading">{{ section.settings.heading | escape }}</h5>
    {% endif %}
    {% if section.settings.subtitle != blank %}
    <h2 class="title header--main-heading">{{ section.settings.subtitle | escape }}</h2>
    {% endif %}
    
  </div>
  {% endif %}
  <div class="feature-row__image">
    {% for block in section.blocks %}
    <div class="txt-img-block">
      <a href="{{ block.settings.link }}">
        {% if block.settings.image != blank %}
        {%- assign img_url = block.settings.image | img_url: 'master' -%}
        {%- assign mob_img_url = block.settings.mobImage | img_url: 'master' -%}
        <div class="feature-row__image-wrapper small--hide">
          <img class="lazyload" data-src="{{ img_url }}"
               data-widths="[180, 360, 540, 720, 900, 1080, 1296, 1512, 1728, 2048]"
               data-aspectratio="{{ block.settings.image.aspect_ratio }}"
               data-sizes="auto"
               alt="{{ block.settings.image.alt | escape }}">
        </div>
        <div class="feature-row__image-wrapper medium-up--hide">
          <img class="lazyload" data-src="{{ mob_img_url }}"
               data-widths="[180, 360, 540, 720, 900, 1080, 1296, 1512, 1728, 2048]"
               data-aspectratio="{{ block.settings.mobImage.aspect_ratio }}"
               data-sizes="auto"
               alt="{{ block.settings.mobImage.alt | escape }}">
        </div>
        {% endif %}
        <div class="text-block">
          {% if block.settings.title != blank %}<p class="name" style="color:{{ block.settings.textColor }};">{{ block.settings.title }}</p>{% endif %}
          {% if block.settings.subtitle != blank %}<p class="profession" style="color:{{ block.settings.textColor }};">{{ block.settings.subtitle }}</p>{% endif %}
        </div>
      </a>
    </div>
    {% endfor %}
  </div>
</div>


{% schema %}
{
  "name": "Shop by design",
  "class": "index-section shop-by-design-section",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Our happy Customers"
    },
    {
      "type": "text",
      "id": "subtitle",
      "label": "Sub Heading",
      "default": "Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquy."
    }
  ],
  "blocks": [
    {
      "type": "text_block",
      "name": "Text Block",
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "Desktop image"
        },
        {
          "type": "image_picker",
          "id": "mobImage",
          "label": "Mobile image"
        },
		{
          "type": "color",
          "id": "textColor",
          "label": "Text color"
        },
        {
          "type": "text",
          "id": "title",
          "label": "Name"
        },
        {
          "type": "textarea",
          "id": "subtitle",
          "label": "Text"
        },
        {
          "type": "url",
          "id": "link",
          "label": "Link"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Shop by design",
      "category": "Image"
    }
  ]

}
{% endschema %}
