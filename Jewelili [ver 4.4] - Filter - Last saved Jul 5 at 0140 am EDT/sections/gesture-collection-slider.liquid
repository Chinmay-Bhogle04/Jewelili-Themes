{% unless section.settings.hide_gesture_collection %}
  <section data-section-id="{{ section.id }}" data-section-type="jewelili-gesture-slider">
    {%- if section.settings.heading != blank -%}
      <div class="section-header text-center">
        <h2>{{ section.settings.heading | escape }}</h2>
        {%- if section.settings.subheading != blank -%}
        <h4>{{ section.settings.subheading }}</h4>
        {% endif %}
      </div>
    {%- endif -%}
    <div class="mm__gesture-slider">
      {%- for tag in product.tags -%}
        {%- if tag contains 'gesture' -%}
          {%- assign gesture_collection = tag | split: ':' | last -%}
          {%- for product in collections[gesture_collection].products limit: 4 -%}
            {% include 'product-card-grid', max_height: 250, product: product %}
          {%- endfor -%}
        {%- endif -%}
      {%- endfor -%}
    </div>
  </section>
{% endunless %}

{% schema %}
  {
    "name": "Gesture Slider",
    "settings": [
      {
        "type": "checkbox",
        "id": "hide_gesture_collection",
        "label": "Hide Gesture Slider Section",
        "default": false
      },
      {
        "type": "text",
        "id": "heading",
        "label": "Heading",
        "default": "A gesture that wont go unnoticed"
      },
      {
        "type": "text",
        "id": "subheading",
        "label": "Subheading",
        "default": "find the best of gifts right here!"
      }
	]
  }
{% endschema %}

{% stylesheet %}
{% endstylesheet %}

{% javascript %}
{% endjavascript %}
